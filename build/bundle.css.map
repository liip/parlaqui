{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\src\\App.svelte",
    "..\\..\\src\\Game.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n\timport { tweened } from 'svelte/motion'\r\n\timport Game from './Game.svelte'\r\n\tlet playing = false\r\n\tlet ende = false\r\n\tlet lastScore = null\r\n\r\n\tfunction play() {\r\n\t\tplaying = true\r\n\t}\r\n\tfunction stop() {\r\n\t\tplaying = false\r\n\t\tende = true\r\n\t}\r\n\tfunction end(e) {\r\n\t\tplaying = false\r\n\t\tende = true\r\n\t\tlastScore = e.detail\r\n\t}\r\n</script>\r\n<style>\r\n\tmain {\r\n\t\tmargin-left: auto;\r\n\t\tmargin-right: auto;\r\n\t\tpadding: 0 1rem;\r\n\t\twidth: 340px;\r\n\t}\r\n\tbutton {\r\n\t\tmargin-top: 1rem;\r\n\t\twidth: 100%;\r\n\t}\r\n</style>\r\n<main>\r\n\t<h1>Guess the Politician</h1>\r\n\t{#if playing}\t\t\r\n\t\t<Game on:end={end} />\r\n\t\t<button on:click={stop}>Quit</button>\r\n\t{:else}\r\n\t\t<button on:click={play}>Play</button>\r\n\t\t{#if lastScore !== null}\r\n\t\t\t<h2>Your Score: {lastScore}</h2>\r\n\t\t{/if}\t\r\n\t{/if}\r\n</main>\r\n",
    "<script>\r\n    import { createEventDispatcher, onDestroy } from 'svelte'\r\n    import { readable } from 'svelte/store'\r\n    import { tweened } from 'svelte/motion'\r\n    import { rand } from './util'\r\n    import politicians from '../councillors.json'\r\n    const dispatch = createEventDispatcher()\r\n    const maxRounds = 10\r\n    const maxTime = maxRounds * 1000\r\n    const maxAnswers = 4\r\n    let round = 0\r\n    let time = readable()\r\n    let politician = {}\r\n    let answers = []\r\n    let score = 0\r\n    let showResults = false\r\n    let timer\r\n    let answerTimer\r\n    $: currentScore = Math.floor($time * 10)\r\n\r\n    onDestroy(() => {\r\n        clearTimeout(timer)\r\n        clearTimeout(answerTimer)\r\n    })\r\n    \r\n    next()\r\n    \r\n    function next() {\r\n        generateAnswers()\r\n        politician = answers.filter(a => a.wright)[0]\r\n        round++\r\n        time = tweened(1, { duration: maxTime, delay: 1000 })\r\n        time.set(0)\r\n        \r\n        timer = setTimeout(() => {\r\n            onAnswer({ wright: false })\r\n        }, maxTime + 1000)\r\n\r\n        if(round > maxRounds) {\r\n            dispatch('end', score)\r\n        }\r\n    }\r\n    \r\n    function onAnswer(answer) {\r\n        if(showResults) {\r\n            return\r\n        }\r\n        clearTimeout(timer)\r\n        showAnswers()    \r\n        score += answer.wright * currentScore\r\n        time = readable($time)\r\n    }\r\n\r\n    function generateAnswers() {\r\n        // randomly take one item to set the gender\r\n        const filter = politicians[rand(0, politicians.length)]\r\n        // filter by gender, or answers could be too obvious\r\n        const arr = [...politicians.filter(p => p.GenderAsString === filter.GenderAsString)]\r\n        const res = []\r\n        const wrightAnswer = rand(0, maxAnswers)\r\n        for(let i=0; i<maxAnswers; i++) {\r\n            const index = rand(0, arr.length)\r\n            const answer = arr.splice(index, 1)[0]\r\n            answer.wright = i === wrightAnswer\r\n            res.push(answer)\r\n        }\r\n        answers = res\r\n    }\r\n\r\n    function showAnswers() {\r\n        showResults = true\r\n        answerTimer = setTimeout(() => {\r\n            showResults = false\r\n            next()\r\n        }, 1000)\r\n    }\r\n\r\n    const answerLabel = ({FirstName, LastName, PartyAbbreviation}) => `${FirstName} ${LastName} (${PartyAbbreviation})`\r\n</script>\r\n<style>\r\n    .buttons {\r\n        padding-top: 1rem;\r\n    }\r\n    button {\r\n        width: 100%;\r\n    }\r\n    button:focus {\r\n        outline: 0;\r\n        border-color: #ccc;\r\n    }\r\n    section {\r\n        text-align: center;\r\n    }\r\n    progress {\r\n        width: 100%;\r\n    }\r\n    .wrong {\r\n        background-color: red;\r\n    }\r\n    .wright {\r\n        background-color: green;\r\n    }\r\n    img {\r\n        width: 260px;\r\n        height: 260px;\r\n        border-radius: 50%;\r\n    }\r\n</style>\r\n\r\n<section>\r\n<img src={politician.ImageUrl} alt=\"image of\">\r\n<div>\r\n    {currentScore}<progress value={$time} />\r\n</div>\r\n<div class=\"buttons\">\r\n{#each answers as answer}\r\n<button on:click={() => onAnswer(answer)} class={showResults ? (answer.wright ? 'wright' : 'wrong') : ''}>{answerLabel(answer)}</button>\r\n{/each}\r\n</div>\r\nScore: {score}\r\n</section>\r\n"
  ],
  "names": [],
  "mappings": "AAqBC,IAAI,eAAC,CAAC,AACL,WAAW,CAAE,IAAI,CACjB,YAAY,CAAE,IAAI,CAClB,OAAO,CAAE,CAAC,CAAC,IAAI,CACf,KAAK,CAAE,KAAK,AACb,CAAC,AACD,MAAM,eAAC,CAAC,AACP,UAAU,CAAE,IAAI,CAChB,KAAK,CAAE,IAAI,AACZ,CAAC;ACkDE,QAAQ,eAAC,CAAC,AACN,WAAW,CAAE,IAAI,AACrB,CAAC,AACD,MAAM,eAAC,CAAC,AACJ,KAAK,CAAE,IAAI,AACf,CAAC,AACD,qBAAM,MAAM,AAAC,CAAC,AACV,OAAO,CAAE,CAAC,CACV,YAAY,CAAE,IAAI,AACtB,CAAC,AACD,OAAO,eAAC,CAAC,AACL,UAAU,CAAE,MAAM,AACtB,CAAC,AACD,QAAQ,eAAC,CAAC,AACN,KAAK,CAAE,IAAI,AACf,CAAC,AACD,MAAM,eAAC,CAAC,AACJ,gBAAgB,CAAE,GAAG,AACzB,CAAC,AACD,OAAO,eAAC,CAAC,AACL,gBAAgB,CAAE,KAAK,AAC3B,CAAC,AACD,GAAG,eAAC,CAAC,AACD,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,CACb,aAAa,CAAE,GAAG,AACtB,CAAC"
}